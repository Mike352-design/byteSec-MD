
//âŒ¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//â”ƒ  à¼’ ð‘«ð‘¬ð‘½ð‘¬ð‘³ð‘¶ð‘·ð‘¬ð‘« ð‘©ð’€ ð‘¯ð‘¬ð‘µð‘¹ð’€ ð‘¨ð‘¹ð‘ªð‘¨ð‘µð‘®ð‘¬ð‘³ð‘¶  à¼’
//â”ƒâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆ
//â”ƒ âœžà¦”à§£ ð™¿ðš•ðšŽðšŠðšœðšŽ ðšŒðš›ðšŽðšðš’ðš ðš’ðš ðš¢ðš˜ðšž ðšžðšœðšŽ ðšðš‘ðšŽ ðšŒðš˜ðšðšŽ à¦”à§£âœž
//â”ƒ ð–¤ ð˜¾ð™¤ð™£ð™©ð™–ð™˜ð™©-ð™¢ð™š ð™›ð™¤ð™§ ð™–ð™£ð™® ð™™ð™¤ð™ªð™—ð™©
// â•°â”€...âŒ¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

import cp from 'child_process';
import {promisify} from 'util';
const exec = promisify(cp.exec).bind(cp);
const handler = async (m) => {
  await conn.reply(m.chat, global.wait, m);
  let o;
  try {
    o = await exec('python3 speed.py');
  } catch (e) {
    o = e;
  } finally {
    const {stdout, stderr} = o;
    if (stdout.trim()) m.reply(stdout);
    if (stderr.trim()) m.reply(stderr);
  }
};
handler.help = ['speedtest'];
handler.tags = ['info'];
handler.command = /^(speedtest?|test?speed)$/i;

export default handler;
 